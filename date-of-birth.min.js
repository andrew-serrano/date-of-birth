"use strict";function DateOfBirth(t){return this.year=new DateOfBirthDateNodeSelectElement(this,t.year),this.month=new DateOfBirthDateNodeSelectElement(this,t.month),this.day=new DateOfBirthDateNodeSelectElement(this,t.day),this.submit=new DateOfBirthDateNodeSubmitElement(t.submit),this.date=new DateOfBirthDate(this,t.age),this.events=new Object,this.events.valid=new Function,this.events.invalid=new Function,this.year.on("change",function(t){this.day.removeOptionListAttribute("disabled"),this.runtime(),this.executeCallback(t)}.bind(this)),this.month.on("change",function(t){this.day.removeOptionListAttribute("disabled"),this.day.reset(),this.runtime(),this.executeCallback(t)}.bind(this)),this.day.on("change",function(t){this.disableSubmitButton(),this.executeCallback(t)}.bind(this)),this.runtime(),this}function DateOfBirthDateNode(t){this.element=t}function DateOfBirthDateNodeSelectElement(t,e){DateOfBirthDateNode.call(this,e),this.parent=t,this.element.optionsList=Array.prototype.slice.call(this.element.children),this.element.optionsListInvalid=new Array}function DateOfBirthDateNodeSubmitElement(t){DateOfBirthDateNode.call(this,t)}function DateOfBirthDate(t,e){this.age=e,this.ageYearMilliseconds=3154e7*this.age,this.ageYearDate=new Date(Date.now()-this.ageYearMilliseconds),this.parent=t}DateOfBirth.prototype.runtime=function(){var t=1,e=0;for(this.disableSubmitButton();this.date.getDefaultDate().getMonth()===this.date.getDateDayOfMonthIndex(t).getMonth();)e=t,t++;this.day.setOptionListRangeByIndex(e),this.day.setOptionListAttribute("disabled",!0)},DateOfBirth.prototype.disableSubmitButton=function(){this.date.isAgeValid()?this.submit.enable():this.submit.disable()},DateOfBirth.prototype.executeCallback=function(t){switch(this.date.isAgeValid()){case!0:(e=new Event("valid")).originalEvent=t,this.events.valid(e);break;case!1:var e;(e=new Event("invalid")).originalEvent=t,this.events.invalid(e)}},DateOfBirth.prototype.on=function(t,e){switch(t){case"invalid":this.events.invalid=e;break;case"valid":this.events.valid=e}return this},DateOfBirthDateNodeSelectElement.prototype=Object.create(DateOfBirth.prototype),DateOfBirthDateNodeSelectElement.prototype.on=function(t,e){return this.element.addEventListener(t,e),this},DateOfBirthDateNodeSelectElement.prototype.reset=function(){return this.element.value=this.element.item(0).value,this},DateOfBirthDateNodeSelectElement.prototype.setOptionListRangeByIndex=function(t){switch(t){case this.element.optionsList.length:this.element.optionsListInvalid=new Array;break;default:this.element.optionsListInvalid=this.element.optionsList.slice(t)}return this},DateOfBirthDateNodeSelectElement.prototype.setOptionListAttribute=function(e,i){return this.element.optionsListInvalid.forEach(function(t){t.setAttribute(e,i)}),this},DateOfBirthDateNodeSelectElement.prototype.removeOptionListAttribute=function(e){return this.element.optionsListInvalid.forEach(function(t){t.removeAttribute(e)}),this},DateOfBirthDateNodeSubmitElement.prototype.disable=function(){this.element.disabled=!0},DateOfBirthDateNodeSubmitElement.prototype.enable=function(){this.element.disabled=!1},DateOfBirthDate.prototype.isAgeValid=function(){return this.ageYearDate.getTime()>=this.getSelectedDate().getTime()},DateOfBirthDate.prototype.getSelectedDate=function(){return new Date(this.parent.year.element.value,this.parent.month.element.value,this.parent.day.element.value)},DateOfBirthDate.prototype.getDefaultDate=function(){return new Date(this.parent.year.element.value,this.parent.month.element.value,1)},DateOfBirthDate.prototype.getDateDayOfMonthIndex=function(t){return new Date(this.parent.year.element.value,this.parent.month.element.value,t)};